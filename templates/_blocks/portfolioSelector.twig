{% set portfolios = block.portfolioSelector.limit(4).all() %} 

{% embed '_components/section'
    with {
        paddingY: block.padding.value,
        paddingX: 'left'
    }
%}
{% block sectionContent %}
<section class="container mx-auto md:p-[135px] p-[20px]">
    <!-- Section Title & Description -->
    {% if block.title|length %}
        {% include '_components/heading' with {
            text: block.title,
            class: 'text-[56px] font-[700] mb-[24px] text-[#0E0A20] leading-[67.2px]',
            tag: 'h1'
        } only %}
    {% endif %}
    
    {% if block.portfolioDescription|length %}
        {% include '_components/richText' with {
            class: 'text-[18px] font-[500] mb-[80px] text-[#0E0A20CC] leading-[27px]',
            content: block.portfolioDescription
        } %}
    {% endif %}
    
    <!-- Projects Grid -->
    <div class="grid grid-cols-1 md:grid-cols-2 md:gap-[30px] gap-[80px]">
        {% for item in portfolios %}
            {% set portfolioEntry = item.portfolio.one() %}
            {% set portfolioTags = portfolioEntry.portfolioTag.all() %}
            <div>
                <div class="relative rounded-[30px] overflow-hidden">
                   <img src="{{ portfolioEntry.portfolioImage.one() ? portfolioEntry.portfolioImage.one().url : 'path/to/default-image.jpg' }}" alt="{{ portfolioEntry.title }}" 
                    class="w-full h-[456px] object-cover" />

                    
                    <!-- Tags Display -->
                    <div class="absolute top-[24px] left-[24px] flex gap-[12px]">
                        {% if portfolioTags|length %}
                            {% for tag in portfolioTags %}
                                <span class="px-[24px] py-[8px] bg-[#FFFFFFF5] rounded-[60px] text-[16px] font-[500] text-[#0E0A20]">
                                    {{ tag.title }}
                                </span>
                            {% endfor %}
                        {% endif %}
                    </div>
                </div>
                <div class="mt-[16px]">
                    <p class="text-[14px] font-[300] text-[#0E0A20] mb-[8px]">{{ portfolioEntry.portfolioDate|date('d M Y') }} â€¢ {{ portfolioEntry.title }}</p>
                </div>
            </div>
        {% endfor %}
    </div>
    
    <!-- Button Section -->
    <div class="flex flex-col justify-end items-end mt-[50px]">
        <h2 class="text-[56px] font-[700] text-[#0E0A20] mb-[33px]">More Good Stuff</h2>
        {% if block.button.url|length %}
            {% include '_components/buttons/button' with {
                text: block.button.text,
                type: 'a',
                style: '',
                url: block.button.url,
                class: 'ms-auto h-auto w-auto flex items-center gap-[10px] px-[32px] py-[16px] bg-[#00A886] text-white font-[600] text-[16px] rounded-[60px] hover:bg-emerald-600 transition-colors'
            } %}
        {% endif %}
    </div>
</section>
{% endblock %}
{% endembed %}
